## Репликация базы данных

Добавляя дополнительные сервера для сервисов, мы получали гарантию того, что наш вебсайт не перестанет работать даже после отказа одного из серверов. Масштабируя базу данных, логично было бы сделать так-же с ней. Вот несколько наиболее популярных методов репликации базы данных:

- **Single-Primary Replication** - метод при котором мы имеем 1 основную базу данных, которую мы можем изменять и читать, а так-же добавляются доп. базы данные которых можно только читать, а изменяются они вместе с основной базой. Единственная проблема, что этот метод все ещё не гарантирует отказоустойчивость сайта.
![[single_primary.png]]

- **Multi-Primary Replication** - метод при котором все базы данных можно изменять и читать, а так-же они взаимосвязанно обноваляют друг друга. Чем то схоже с гитом. Вот основные проблемы данного метода
	- *Update conflict* - когда пользователи меняют одновременно одну ячейку это приводит к проблемем синхронизации.
	- *Uniqueness conflict* - каждая ячейка в базе данных должна быть со своим id. Мы можем присвоить один и тот же id двум разным ячейкам разных баз данных.
	- *Delete conflict* - один юзер может удалить ячейку, а другой обновить ее.
![[multi_primary.png]]