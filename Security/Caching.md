# Кэширование

Когда наши базы данных все увеличиваются и увеличиваются, то важно отобрать данные, которые используются чаще всего. Например: наиболее популярные посты, люди и т.д. Подобные данные нет смысла вытаскивать с базы данных напрямую, ведь это - *очень долго*. Чтобы исправить проблему со скоростью, можно использовать кэширование. **Кеш = Скорость**.

Один из способов кэширования, это держать информацию в *кэше браузера*. В таком случае даже не придется отправлять запросы на сервер. Для этого достаточно добавить эту команду в заголовке http запроса: 

```
Cache-Control: max-age=86400
```

Эта команда показывает, что при нахождение на сервере 86400 милисекунд, клиент не должен отправлять запрос на сервер. Это удобно использовать в css файлах, чтобы не отправлять одни и те же стили по 1000 раз. Так-же можно добавить **ETag**, который показывает какие типы файлов не должны отправляться.

Так-же можно использовать кэш на стороне *сервера*. Тогда архитектура приложения будет выглядеть так:
![[server_cache.png]]

Джанго предлагает их [собственный фреймворк](https://docs.djangoproject.com/en/4.0/topics/cache/), который обладает данными фичами:
- **Pre-View caching** - При загрузке определенной view, повторная загрузка по аналогичной view не будет проходить снова.
- **Template-Fragment caching** - Определенная часть шаблонов не будет повторно рендерится. Например *бар с меню*.
- **Low-Level cache API** - Гибкое кэширование определенных данных.